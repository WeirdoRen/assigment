<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>A Special Question ♡</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:      #0f0e17;
    --card:    #1a1a2e;
    --border:  #e94560;
    --pink:    #f472b6;
    --rose:    #e94560;
    --lav:     #c4b5fd;
    --text:    #eeeeee;
    --sub:     #8888aa;
  }
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    min-height:100vh;
    display:flex; align-items:center; justify-content:center;
    background: var(--bg);
    font-family:'Press Start 2P', cursive;
    color: var(--text);
    overflow:hidden;
    position:relative;
  }

  /* starfield dots */
  body::before {
    content:'';
    position:fixed; inset:0;
    background: radial-gradient(circle, rgba(255,255,255,0.13) 1px, transparent 1px);
    background-size: 36px 36px;
    pointer-events:none; z-index:0;
  }

  /* floating pixel hearts (canvas-based, spawned by JS) */
  .pixel-heart {
    position:fixed;
    opacity:0;
    animation: floatUp 5.5s linear infinite;
    pointer-events:none; z-index:0;
  }
  @keyframes floatUp {
    0%   { transform:translateY(100vh); opacity:0; }
    8%   { opacity:0.85; }
    92%  { opacity:0.85; }
    100% { transform:translateY(-60px); opacity:0; }
  }

  /* ─── card ─── */
  .card {
    position:relative; z-index:1;
    background: var(--card);
    padding: 38px 34px 34px;
    max-width:430px; width:90%;
    text-align:center;
    /* thick pixel border */
    border: 4px solid var(--border);
    outline: 4px solid var(--border);
    outline-offset: 4px;
    animation: popIn .35s steps(4) both;
  }
  @keyframes popIn {
    from { transform:scale(.75); opacity:0; }
    to   { transform:scale(1);   opacity:1; }
  }

  /* ─── cat stage ─── */
  .cat-stage {
    width:150px; height:150px;
    margin: 0 auto 20px;
    position:relative;
    display:flex; align-items:center; justify-content:center;
  }
  #catCanvas {
    image-rendering: pixelated;
    width:150px; height:150px;
    animation: catFloat 2s ease-in-out infinite;
  }
  @keyframes catFloat {
    0%,100%{ transform:translateY(0); }
    50%    { transform:translateY(-8px); }
  }

  /* pixel heart above cat (canvas) */
  .cat-heart-wrap {
    position:absolute; top:0; left:50%;
    transform:translateX(-50%);
    animation: heartBob 1.5s ease-in-out infinite;
  }
  @keyframes heartBob {
    0%,100%{ transform:translateX(-50%) translateY(0); }
    50%    { transform:translateX(-50%) translateY(-4px); }
  }

  /* blush cheeks */
  .blush {
    position:absolute;
    width:14px; height:7px;
    background: rgba(244,114,182,0.5);
    animation: blushPulse 1.8s ease-in-out infinite;
    pointer-events:none; z-index:2;
  }
  .blush-l { left:16px;  top:74px; }
  .blush-r { right:16px; top:74px; }
  @keyframes blushPulse {
    0%,100%{ opacity:0.3; }
    50%    { opacity:0.95; }
  }

  /* ─── text ─── */
  .title   { font-size:1.15rem; color:var(--pink); margin-bottom:14px; line-height:1.8; }
  .sub     { font-size:0.58rem; color:var(--sub);  margin-bottom:18px; line-height:2.2; }
  .question{ font-size:0.7rem;  color:var(--text); margin-bottom:24px; line-height:2.2; }

  /* ─── pixel buttons ─── */
  .btns {
    display:flex; justify-content:center; gap:14px;
    position:relative; min-height:48px; align-items:center;
  }
  .btn {
    font-family:'Press Start 2P', cursive;
    font-size:0.58rem; color:#fff;
    border:none; padding:10px 18px;
    cursor:pointer; position:relative;
    /* pixel shadow = depth */
    box-shadow: 4px 4px 0 rgba(0,0,0,.45);
    transition: transform .1s, box-shadow .1s;
  }
  .btn:hover  { transform:translateY(-2px); box-shadow:4px 6px 0 rgba(0,0,0,.45); }
  .btn:active { transform:translateY(2px);  box-shadow:2px 2px 0 rgba(0,0,0,.45); }
  .btn-yes { background:var(--rose); }
  .btn-no  { background:var(--lav); color:#1a1a2e; }

  /* ─── hint label ─── */
  .no-label {
    display:block; font-size:0.48rem;
    margin-top:10px; color:var(--sub); min-height:14px;
  }

  /* ─── result ─── */
  .result { margin-top:18px; min-height:34px; display:flex; align-items:center; justify-content:center; }
  .result p { font-size:0.7rem; color:var(--pink); line-height:2; animation:fadeIn .3s steps(2) both; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(5px)} to{opacity:1;transform:translateY(0)} }

  /* confetti pieces */
  .confetti-piece { position:fixed; pointer-events:none; z-index:999; }
</style>
</head>
<body>

<div class="card">
  <div class="cat-stage">
    <canvas class="cat-heart-wrap" id="heartCanvas" width="7" height="6" style="image-rendering:pixelated;width:28px;height:24px;"></canvas>
    <canvas id="catCanvas" width="28" height="28"></canvas>
    <div class="blush blush-l"></div>
    <div class="blush blush-r"></div>
  </div>

  <p class="title">Hey there ♡</p>
  <p class="sub">I've been thinking about this<br>for a while…</p>
  <p class="question">Will you go on a night date<br>with me? ♡</p>

  <div class="btns">
    <button class="btn btn-yes" onclick="onYes()">Yes! ♡</button>
    <button class="btn btn-no"  id="noBtn" onclick="onNo()">No</button>
  </div>
  <span class="no-label" id="noLabel"></span>
  <div class="result" id="result"></div>
</div>

<script>
// ──────────────────────────────────────────
// helper: draw a pixel heart onto a canvas
// ──────────────────────────────────────────
function drawPixelHeart(canvas, color) {
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0,0,7,6);
  ctx.fillStyle = color;
  // 7×6 pixel heart shape
  [[1,0],[2,0],[4,0],[5,0],
   [0,1],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],
   [0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],
   [1,3],[2,3],[3,3],[4,3],[5,3],
   [2,4],[3,4],[4,4],
   [3,5]
  ].forEach(([x,y])=> ctx.fillRect(x,y,1,1));
}

// ── draw the small heart above the cat ──
drawPixelHeart(document.getElementById('heartCanvas'), '#e94560');

// ──────────────────────────────────────────
// BLACK PIXEL CAT  (28×28 canvas)
// ──────────────────────────────────────────
(function(){
  const canvas = document.getElementById('catCanvas');
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0,0,28,28);

  const B = '#1a1a1a';  // body black
  const O = '#000000';  // outline
  const W = '#ffffff';  // shine
  const P = '#f9a8b8';  // nose pink
  const R = '#d4566a';  // inner ear

  function b(x,y,w,h,c){ ctx.fillStyle=c; ctx.fillRect(x,y,w,h); }

  // ── left ear ──
  b(4,0, 2,1, O);
  b(3,1, 4,1, B); b(3,1,1,1,O); b(6,1,1,1,O);
  b(3,2, 4,2, B); b(3,2,1,1,O); b(6,2,1,1,O); b(4,3,2,1,R);
  b(2,4, 6,1, B); b(2,4,1,1,O); b(7,4,1,1,O); b(4,4,2,1,R);

  // ── right ear ──
  b(21,0, 2,1, O);
  b(20,1, 4,1, B); b(20,1,1,1,O); b(23,1,1,1,O);
  b(20,2, 4,2, B); b(20,2,1,1,O); b(23,2,1,1,O); b(21,3,2,1,R);
  b(19,4, 6,1, B); b(19,4,1,1,O); b(24,4,1,1,O); b(21,4,2,1,R);

  // ── head ──
  b(1,5, 26,1, O);          // top outline
  b(2,6, 24,1, B);          // head row
  b(0,7, 28,1, B); b(0,7,1,1,O); b(27,7,1,1,O);
  b(0,8, 28,5, B); b(0,8,1,1,O); b(27,8,1,1,O);
  b(0,9, 28,1, B); b(0,9,1,1,O); b(27,9,1,1,O);
  b(0,10,28,1, B); b(0,10,1,1,O); b(27,10,1,1,O);
  b(0,11,28,1, B); b(0,11,1,1,O); b(27,11,1,1,O);
  b(0,12,28,1, B); b(0,12,1,1,O); b(27,12,1,1,O);

  // ── eyes (2×2 black with 1px white shine) ──
  b(6,8, 3,3, O);   // left eye box
  b(7,9, 2,2, B);   // left eye
  b(8,9, 1,1, W);   // left shine
  b(18,8, 3,3, O);  // right eye box
  b(19,9, 2,2, B);  // right eye
  b(20,9, 1,1, W);  // right shine

  // ── nose ──
  b(12,12, 3,1, P);
  b(13,13, 1,1, P);

  // ── mouth ──
  b(12,13, 1,1, O);
  b(14,13, 1,1, O);

  // ── body ──
  for(let row=13; row<=22; row++){
    b(0, row, 28, 1, B);
    b(0, row, 1, 1, O);
    b(27,row, 1, 1, O);
  }
  b(0,23, 28,1, O); // bottom outline

  // ── tail (curling up, right side) ──
  b(25,20, 2,1, B);
  b(26,19, 2,1, B);
  b(27,17, 1,2, B);
  b(26,16, 1,1, B);
  b(25,15, 1,1, B);
  b(24,14, 1,1, B);
  // tail tip – pink accent
  b(24,13, 1,1, P);

  // ── paws ──
  b(4,21,  3,2, B); b(4,22,1,1,O); b(6,22,1,1,O); b(4,23,3,1,O);
  b(18,21, 3,2, B); b(18,22,1,1,O); b(20,22,1,1,O); b(18,23,3,1,O);

  // ── whisker dots ──
  b(3,11,  1,1, '#555');
  b(1,11,  1,1, '#555');
  b(24,11, 1,1, '#555');
  b(26,11, 1,1, '#555');
})();

// ──────────────────────────────────────────
// FLOATING PIXEL HEARTS
// ──────────────────────────────────────────
function spawnHeart(){
  const wrap = document.createElement('div');
  wrap.className = 'pixel-heart';
  const size = 3 + Math.floor(Math.random()*4); // 3–6 px scale
  const cv = document.createElement('canvas');
  cv.width=7; cv.height=6;
  cv.style.imageRendering='pixelated';
  cv.style.width  = (size*7)+'px';
  cv.style.height = (size*6)+'px';
  drawPixelHeart(cv, Math.random()>0.5?'#e94560':'#f472b6');
  wrap.appendChild(cv);
  wrap.style.left = Math.random()*100+'vw';
  wrap.style.animationDuration = (4+Math.random()*3.5)+'s';
  wrap.style.animationDelay    = Math.random()*1.2+'s';
  document.body.appendChild(wrap);
  setTimeout(()=> wrap.remove(), 9000);
}
setInterval(spawnHeart, 550);
for(let i=0;i<7;i++) setTimeout(spawnHeart, i*220);

// ──────────────────────────────────────────
// NO BUTTON
// ──────────────────────────────────────────
let noCount=0;
const noTexts=["No","Are you sure?","Really?","Think again…","Come on!","Last chance!","You won't regret it…"];

function onNo(){
  noCount++;
  const btn   = document.getElementById('noBtn');
  const label = document.getElementById('noLabel');
  btn.style.position   = 'relative';
  btn.style.left       = ((Math.random()-0.5)*230)+'px';
  btn.style.top        = ((Math.random()-0.5)*110)+'px';
  btn.style.transition = 'left .12s steps(3), top .12s steps(3)';
  btn.textContent      = noTexts[Math.min(noCount, noTexts.length-1)];
  btn.style.transform  = `scale(${Math.max(0.55, 1-noCount*0.08)})`;
  label.textContent    = noCount>=2 ? "▶ the Yes button is right there…" : "";
  if(noCount>=7){ btn.style.display='none'; label.textContent="…looks like the answer is Yes! ♡"; }
}

// ──────────────────────────────────────────
// YES BUTTON
// ──────────────────────────────────────────
function onYes(){
  document.getElementById('result').innerHTML = '<p>Yesss!! I can\'t wait! ♡</p>';
  launchConfetti();
  document.querySelector('.btns').style.opacity='0';
  document.getElementById('noLabel').style.opacity='0';
}

// ──────────────────────────────────────────
// PIXEL CONFETTI
// ──────────────────────────────────────────
function launchConfetti(){
  const colors=['#e94560','#f472b6','#c4b5fd','#fda4af','#a78bfa','#ffffff','#1a1a2e'];
  const cx=window.innerWidth/2, cy=window.innerHeight/2;
  for(let i=0;i<75;i++){
    const p=document.createElement('div');
    p.className='confetti-piece';
    const sz = 4+Math.floor(Math.random()*3)*2; // 4,6,8 px
    p.style.width=sz+'px'; p.style.height=sz+'px';
    p.style.background=colors[Math.floor(Math.random()*colors.length)];
    p.style.left=(cx+(Math.random()-0.5)*100)+'px';
    p.style.top =(cy-50)+'px';
    document.body.appendChild(p);
    const drift=(Math.random()-0.5)*340;
    p.animate([
      {transform:'translateX(0) translateY(0) rotate(0deg)', opacity:1},
      {transform:`translateX(${drift}px) translateY(400px) rotate(${180+Math.random()*360}deg)`, opacity:0}
    ],{duration:1700+Math.random()*1100, easing:'steps(14)', fill:'forwards'});
    setTimeout(()=>p.remove(), 3100);
  }
}
</script>
</body>
</html>
